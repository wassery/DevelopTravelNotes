参考：

unity2017以上版本的Assetbundle打包
https://blog.csdn.net/elineSea/article/details/79866758

Unity3d 5.x AssetBundle打包与加载
https://www.cnblogs.com/lan-yt/p/7787290.html

Unity中如何使用AssetBundle打包
http://gad.qq.com/article/detail/287854

Unity官方文档-BuildPipeline.BuildPlayer
https://docs.unity3d.com/ScriptReference/BuildPipeline.BuildPlayer.html

代码：

CreateAssetBundles.cs

```
using UnityEngine;
using UnityEditor;
using System.IO;

public class CreateAssetBundles : Editor
{

    [MenuItem("Tools/Build AB for Android")]
    static void BuildAB()
    {
    	string dir = Application.dataPath + "/AssetBundles";
        BuildPipeline.BuildAssetBundles(dir, BuildAssetBundleOptions.ChunkBasedCompression, BuildTarget.Android);
        AssetDatabase.SaveAssets();
        AssetDatabase.Refresh();
        Debug.LogWarning("打包成功");
    }
    
    [MenuItem("AssetBundles/Build Game for Android")]
    static void BuildGame()
    {
        BuildPlayerOptions buildPlayerOptions = new BuildPlayerOptions();
        buildPlayerOptions.scenes = new[] { "Assets/Scenes/Main.unity" };
        buildPlayerOptions.locationPathName = "../package/assetbundle_test.apk";
        buildPlayerOptions.target = BuildTarget.Android;
        buildPlayerOptions.options = BuildOptions.None;

        string strResult = BuildPipeline.BuildPlayer(buildPlayerOptions);
        if (string.IsNullOrEmpty(strResult))
        {
            Debug.LogWarning("Build succeeded");
        }
        else
        {
            Debug.LogWarning("Build failed: " + strResult);
        }
    }
}

```

 LoadFromFileExamle.cs

```
using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.Networking;

public class LoadFromFileExamle : MonoBehaviour {
    // Use this for initialization
    IEnumerator Start() {
        string strLocal = Application.dataPath + "/AssetBundles/";
        AssetBundle manifestAB = AssetBundle.LoadFromFile(strLocal + "AssetBundles");
        AssetBundleManifest manifest = manifestAB.LoadAsset<AssetBundleManifest>("AssetBundleManifest");//读取manifest文件
        yield return LoadAB(manifest, "Canvas", "mainui.ab");
        yield return LoadAB(manifest, "SceneRoot", "cube.ab");
    }
    // Update is called once per frame
    void Update() { 
	}

    IEnumerator LoadAB(AssetBundleManifest manifest, string strRoot, string strAB)
    {
        string strRemote = @"file:///" + Application.dataPath + "/AssetBundles/";
        string strLocal = Application.dataPath + "/AssetBundles/";
        //string strRoot = "Canvas";
        //string strAB = "mainui.ab";

        //UnityWebRequest取代www下载
        string uri = strRemote + strAB;//AssetBundle资源路径这里可以填写服务器地址和该资源的完整路径 每个人的电脑上的路径不一样，这里需要改成你自己的打出的包的完整路径
        Debug.Log("uri:" + uri);
        UnityWebRequest request = UnityWebRequest.GetAssetBundle(uri);
        yield return request.SendWebRequest();
        AssetBundle ab = DownloadHandlerAssetBundle.GetContent(request);//得到AssetBundle对象
        Object[] objs = ab.LoadAllAssets();//读取AssetBundle里面的所有资源
        foreach (Object o in objs)
        {
            GameObject go = (GameObject)Instantiate(o);//实例化对象 这里可以根据对象的类型进行转换在游戏中使用
            go.transform.SetParent(GameObject.Find(strRoot).transform);
            go.transform.localPosition = Vector3.zero;
        }

        // 本地
        string[] depends = manifest.GetAllDependencies(strAB);
        foreach (string name in depends)
        {
            Debug.Log(name);//打印cube.ab的依赖AssetBundle包
            AssetBundle.LoadFromFile(strLocal + name);//根据这个依赖包继续加载AssetBundle包 加载方法和上面相同
        }
    }
}
```
